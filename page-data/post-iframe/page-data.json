{"componentChunkName":"component---src-templates-blog-template-js","path":"/post-iframe/","result":{"data":{"cur":{"id":"d1a64451-4a6a-579d-ba27-b37e68f40d74","html":"<p>iframe 에서 같은 도메인끼리 값을 넘길때,</p>\n<h2 id=\"같은-도메인\" style=\"position:relative;\"><a href=\"#%EA%B0%99%EC%9D%80-%EB%8F%84%EB%A9%94%EC%9D%B8\" aria-label=\"같은 도메인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>같은 도메인</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sample_iframe<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">frameborder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1052px<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">marginheight</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">marginwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://dev1.uuuujin.github.io<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100%<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"> \r\n\t<span class=\"token keyword\">let</span> iframe <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#sample_iframe\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n\tiframe<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   <span class=\"token comment\">//load 될때</span>\r\n\t\tiframe<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> iframe<span class=\"token punctuation\">.</span>contentDocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollHeight <span class=\"token operator\">+</span> <span class=\"token string\">'px'</span><span class=\"token punctuation\">;</span> \r\n\t\tiframe<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> iframe<span class=\"token punctuation\">.</span>contentDocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollWidth <span class=\"token operator\">+</span> <span class=\"token string\">'px'</span><span class=\"token punctuation\">;</span> \r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"다른-도메인\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EB%A5%B8-%EB%8F%84%EB%A9%94%EC%9D%B8\" aria-label=\"다른 도메인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다른 도메인</h2>\n<h2 id=\"1-iframe-내부의-소스\" style=\"position:relative;\"><a href=\"#1-iframe-%EB%82%B4%EB%B6%80%EC%9D%98-%EC%86%8C%EC%8A%A4\" aria-label=\"1 iframe 내부의 소스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. iframe 내부의 소스</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"> \r\n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n <span class=\"token comment\">// iframe 로드 되었을때, 값넘김</span>\r\n     window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">let</span> iframeMessage <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollHeight<span class=\"token punctuation\">,</span> \r\n\t\t\t\t\t\t      <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollWidth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n      window<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>iframeMessage<span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t<span class=\"token comment\">//resize 되었을때 값넘김</span>\r\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">let</span> iframeMessage <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollHeight<span class=\"token punctuation\">,</span> \r\n      \t\t\t\t\t\t<span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollWidth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n      window<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>iframeMessage<span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token comment\">//key 입력 되었을때 값 넘김</span>\r\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">keyup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">let</span> iframeMessage <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollHeight<span class=\"token punctuation\">,</span> \r\n      \t\t\t\t\t\t<span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>scrollWidth <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n      window<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>iframeMessage<span class=\"token punctuation\">,</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"2-iframe을-사용하는-부분의-소스\" style=\"position:relative;\"><a href=\"#2-iframe%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84%EC%9D%98-%EC%86%8C%EC%8A%A4\" aria-label=\"2 iframe을 사용하는 부분의 소스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. iframe을 사용하는 부분의 소스</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"> \r\n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">iframeResize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">function</span> <span class=\"token function\">iframeResize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token keyword\">let</span> iframe <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#sampleFrame\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'iframeMessage'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n                <span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n                iframe<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>height <span class=\"token operator\">+</span> <span class=\"token string\">'px'</span><span class=\"token punctuation\">;</span>\r\n                <span class=\"token comment\">/*iframe.style.width = message.width + 'px';*/</span>\r\n            <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">}</span>\r\n        <span class=\"token function\">iframeResize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B0%99%EC%9D%80-%EB%8F%84%EB%A9%94%EC%9D%B8\">같은 도메인</a></li>\n<li><a href=\"#%EB%8B%A4%EB%A5%B8-%EB%8F%84%EB%A9%94%EC%9D%B8\">다른 도메인</a></li>\n<li><a href=\"#1-iframe-%EB%82%B4%EB%B6%80%EC%9D%98-%EC%86%8C%EC%8A%A4\">1. iframe 내부의 소스</a></li>\n<li><a href=\"#2-iframe%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84%EC%9D%98-%EC%86%8C%EC%8A%A4\">2. iframe을 사용하는 부분의 소스</a></li>\n</ul>\n</div>","excerpt":"iframe 에서 같은 도메인끼리 값을 넘길때, 같은 도메인 다른 도메인 1. iframe 내부의 소스 2. iframe을 사용하는 부분의 소스 같은 도메인 다른 도메인 1. iframe 내부의 소스 2. iframe을 사용하는 부분의 소스","frontmatter":{"date":"September 18, 2022","title":"iframe 활용시 postMessage() 로 값 넘기는 방법","categories":"js","author":"syz","emoji":"🖥️"},"fields":{"slug":"/post-iframe/"}},"next":null,"prev":{"id":"d595b23c-3137-5091-87ba-3b417a1a77bb","html":"<h2 id=\"json_encode\" style=\"position:relative;\"><a href=\"#json_encode\" aria-label=\"json_encode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>json_encode();</h2>\n<p>php에서 json 형태로 인코딩에 필요한 json_encode($변수명);</p>\n<p>옵션 없이 기본값으로 encoding 시</p>\n<p>json_encode($변수명);</p>\n<p>string(문자열) 형태로 결과 값이 출력된다.</p>\n<p>php 에서 배열을 사용할때</p>\n<p>배열을 json 형식으로 변환하는데,</p>\n<p>이때 json이란?</p>\n<h2 id=\"json-이란\" style=\"position:relative;\"><a href=\"#json-%EC%9D%B4%EB%9E%80\" aria-label=\"json 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>json 이란?</h2>\n<p>JavaScript Object Notation</p>\n<p>데이터 전송 및 저장 시 자주 쓰이는 형식이다.</p>\n<p>JavaScript에서 객체를 만들때, 사용하는 표현식의 의미하고, 데이터 포맷이다.</p>\n<h2 id=\"json-예시\" style=\"position:relative;\"><a href=\"#json-%EC%98%88%EC%8B%9C\" aria-label=\"json 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>json 예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">\r\n<span class=\"token punctuation\">{</span>\r\n  <span class=\"token property\">\"example\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sujan\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gihun\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"36\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"para\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"33\"</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">{</span>\r\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"kangmun\"</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"33\"</span>\r\n    <span class=\"token punctuation\">}</span> \r\n  <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p>json에서는 javascript와 비슷하게\r\nkey와 value값이 존재 할 수 있고,\r\nkey와 value값은 ” 쌍따옴표로 표기한다.</p>\n<p>string, array, object, boolean 등등 사용할 수 있다.</p>\n<p>json 형식의 텍스르를 script 문법에서 object로 변환해서 사용할수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> json_type <span class=\"token operator\">=</span> <span class=\"token string\">'{ \"name\": \"홍길동\", \"age\": \"20\" }'</span><span class=\"token punctuation\">;</span>\r\n\r\n\r\n<span class=\"token keyword\">var</span> parse_type <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>json_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> stringify_type <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>parse_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parse_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>stringify_type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code></pre></div>\n<p>console.log(parse_type) -> json 을 javaScript 객체로 변환\r\nconsole.log(stringify_type); -> javaScript 객체를 json 형태로 변환</p>\n<h1 id=\"-다시-돌아와서\" style=\"position:relative;\"><a href=\"#-%EB%8B%A4%EC%8B%9C-%EB%8F%8C%EC%95%84%EC%99%80%EC%84%9C\" aria-label=\" 다시 돌아와서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>=> 다시 돌아와서</h1>\n<p>json_encode는 PHP 배열을 JSON 으로 변환하는 함수로</p>\n<p>예를 들어</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">\r\n<span class=\"token variable\">$array</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token string double-quoted-string\">\"name\"</span><span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"홍길동\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string double-quoted-string\">\"age\"</span><span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"22\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token string double-quoted-string\">\"address\"</span><span class=\"token operator\">=></span><span class=\"token string double-quoted-string\">\"전라도\"</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">echo</span> <span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$array</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code></pre></div>\n<p>하면</p>\n<p>json 형태로</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"홍길동\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"22\"</span><span class=\"token punctuation\">,</span><span class=\"token property\">\"address\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"전라도\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 호출해서 사용 할 수 있따.</p>\n<p>json_decode는 json을 php 배열로 변환하는 함수로</p>\n<p>비슷하게 사용 할 수 있지만, tip이 있는데,</p>\n<p>일단 예시 코드를 보면</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">\r\n<span class=\"token variable\">$json_code</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'{\"name\":\"홍길동\",\"age\":\"22\",\"address\":\"전라도\"}'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token function\">json_decode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$json_code</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token function\">json_decode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$json_code</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code></pre></div>\n<h2 id=\"json_decode\" style=\"position:relative;\"><a href=\"#json_decode\" aria-label=\"json_decode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>json_decode();</h2>\n<p>그냥 json_decode과</p>\n<p>json_decode(변수 , true);가 다른데,</p>\n<p>그냥 json_decode()의 경우</p>\n<p>// 결과</p>\n<p>그냥 json_decode를 진행했을때,</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">\r\n<span class=\"token keyword type-declaration\">object</span><span class=\"token punctuation\">(</span>stdClass<span class=\"token punctuation\">)</span><span class=\"token comment\">#320 (3) {</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"name\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>  <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"홍길동\"</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"age\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>   <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"22\"</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"address\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>  <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"전라도\"</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p>json_decode(__, true);로 진행했을때,</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">\r\n<span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"name\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>  <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"홍길동\"</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"age\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>  <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"22\"</span>\r\n  <span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"address\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=></span>  <span class=\"token keyword type-declaration\">string</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token string double-quoted-string\">\"전라도\"</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p>일단 decode시 기본값을 안주면 자동적으로 false로 지정되고,</p>\n<p>값은 object로 변환된다.</p>\n<p>object 형식에서는 echo를 $array[‘name’] 이런식으로 배열 형식으로</p>\n<p>찍어봐도 나오지 않게 된다.</p>\n<p>object는 $array->name 이런식으로 호출해야 한다고 한다.</p>\n<p>배열로 변환하고 싶을때는 json_decode($array, true)로 true값을 주면 된다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#json_encode\">json_encode();</a></li>\n<li><a href=\"#json-%EC%9D%B4%EB%9E%80\">json 이란?</a></li>\n<li><a href=\"#json-%EC%98%88%EC%8B%9C\">json 예시</a></li>\n<li><a href=\"#json_decode\">json_decode();</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 19, 2022","title":"json_encode(), json_decode()에 대해서","categories":"php","author":"syz","emoji":"✔"},"fields":{"slug":"/post-php-json/"}},"site":{"siteMetadata":{"siteUrl":"https://syz.netlify.app","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/post-iframe/","nextSlug":"","prevSlug":"/post-php-json/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}